{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"User Login\", -1);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_card_title = _resolveComponent(\"v-card-title\");\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_form = _resolveComponent(\"v-form\");\n  const _component_v_card_text = _resolveComponent(\"v-card-text\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_v_card_item = _resolveComponent(\"v-card-item\");\n  const _component_AdminDashboard = _resolveComponent(\"AdminDashboard\");\n  return !$data.authenticated ? (_openBlock(), _createBlock(_component_v_card_item, {\n    key: 0\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_row, null, {\n      default: _withCtx(() => [_createVNode(_component_v_col, {\n        class: \"center\",\n        cols: \"12\",\n        md: \"6\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_card, {\n          class: \"mx-auto\",\n          \"max-width\": \"90%\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_v_card_title, null, {\n            default: _withCtx(() => [_hoisted_1]),\n            _: 1\n          }), _createVNode(_component_v_card_text, null, {\n            default: _withCtx(() => [_createVNode(_component_v_form, {\n              ref: \"form\",\n              modelValue: $data.valid,\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.valid = $event)\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                modelValue: $data.input.username,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.input.username = $event),\n                counter: 10,\n                rules: $data.usernameRules,\n                label: \"Username\",\n                required: \"\"\n              }, null, 8, [\"modelValue\", \"rules\"]), _createVNode(_component_v_text_field, {\n                modelValue: $data.input.password,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.input.password = $event),\n                label: \"Password\",\n                type: \"password\",\n                rules: $data.passwordRules,\n                required: \"\"\n              }, null, 8, [\"modelValue\", \"rules\"]), _createVNode(_component_v_btn, {\n                color: \"success\",\n                class: \"mr-4\",\n                onClick: _cache[2] || (_cache[2] = $event => $options.login())\n              }, {\n                default: _withCtx(() => [_createTextVNode(\"Login\")]),\n                _: 1\n              }), _createVNode(_component_v_btn, {\n                color: \"error\",\n                class: \"mr-4\",\n                onClick: $options.reset\n              }, {\n                default: _withCtx(() => [_createTextVNode(\"Reset\")]),\n                _: 1\n              }, 8, [\"onClick\"])]),\n              _: 1\n            }, 8, [\"modelValue\"]), _createElementVNode(\"p\", null, _toDisplayString($data.msg), 1)]),\n            _: 1\n          })]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    })]),\n    _: 1\n  })) : (_openBlock(), _createBlock(_component_v_card_item, {\n    key: 1\n  }, {\n    default: _withCtx(() => [_createVNode(_component_AdminDashboard)]),\n    _: 1\n  }));\n}","map":{"version":3,"names":["_createElementVNode","$data","authenticated","_createBlock","_component_v_card_item","key","_createVNode","_component_v_row","_component_v_col","class","cols","md","_component_v_card","_component_v_card_title","_hoisted_1","_component_v_card_text","_component_v_form","ref","valid","$event","_component_v_text_field","input","username","counter","rules","usernameRules","label","required","password","type","passwordRules","_component_v_btn","color","onClick","_cache","$options","login","reset","_toDisplayString","msg","_component_AdminDashboard"],"sources":["/Users/admin/Documents/HDTask/Coffee/src/components/Component4.vue"],"sourcesContent":["<template>\n    <v-card-item v-if=\"!authenticated\">\n        <v-row>\n            <v-col class=\"center\" cols=\"12\" md=\"6\">\n              <v-card class=\"mx-auto\" max-width=\"90%\">\n                <v-card-title>\n                  <h2>User Login</h2>\n                </v-card-title>\n                <v-card-text>\n                  <v-form ref=\"form\" v-model=\"valid\">\n                    <v-text-field v-model=\"input.username\" :counter=\"10\" :rules=\"usernameRules\" label=\"Username\" required></v-text-field>\n                    <v-text-field v-model=\"input.password\" label=\"Password\" type=\"password\" :rules=\"passwordRules\" required></v-text-field>\n                    <v-btn color=\"success\" class=\"mr-4\" @click=\"login()\">Login</v-btn>\n                    <v-btn color=\"error\" class=\"mr-4\" @click=\"reset\">Reset</v-btn>\n                  </v-form>\n                  <p>{{ msg }}</p>\n                </v-card-text>\n              </v-card>\n            </v-col>\n          </v-row>\n    </v-card-item>\n    <v-card-item v-else>\n        <AdminDashboard></AdminDashboard>\n    </v-card-item>\n</template>\n\n<script>\nimport AdminDashboard from './AdminDashboard.vue';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nexport default {\n    name: 'ComponentFour',\n    components: {\n        AdminDashboard\n    },\n    data() {\n        return {\n            showPasswordInPlainText: false,\n            username: '',\n            password: '',\n            authenticated: true,\n            errMessage: '',\n            msg: '',\n            input: {\n                username: '',\n                password: ''\n            },\n            valid: true,\n            usernameRules: [\n                v => !!v || 'Name is required',\n                v => (v && v.length <= 10) || 'Name must be less than 10 characters'\n            ],\n            passwordRules: [\n                v => !!v || 'Password is required',\n                v => (v && v.length >= 8) || 'Password must be more than 8 characters'\n            ]\n            }\n    },\n\n\n\n\n\n\n    methods: {\n    login() {\n      if (this.$refs.form.validate()) {\n        const requestOptions = {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            username: this.input.username,\n            password: this.input.password\n          })\n        };\n\n        fetch(\"https://mercury.swin.edu.au/cos30043/s104357292/HDTASK/Coffee/src/components/api_user.php\", requestOptions)\n          .then(response => response.json())\n          .then(data => {\n            if (data === null) {\n              this.msg = \"Username or password incorrect.\";\n            } else {\n              this.$emit(\"authenticated\", true);\n              this.$router.replace({ name: \"dashboard\" });\n            }\n          })\n          .catch(error => {\n            this.msg = \"Error: \" + error;\n          });\n      }\n    },\n    reset() {\n      this.$refs.form.reset()\n    }\n  },\n\n\n\n\n\n    // methods: {\n    //     login() {\n    //         // Send a POST request to the API for validation\n    //         fetch('https://mercury.swin.edu.au/cos30043/s104357292/HDTASK/Coffee/src/components/api_user.php', {\n    //             method: 'POST',\n    //             headers: {\n    //                 'Content-Type': 'application/json'\n    //             },\n    //             body: JSON.stringify(this.credential)\n    //         })\n    //         .then(response => {\n    //             if (!response.ok) {\n    //                 throw new Error('Network response was not ok');\n    //             }\n    //             return response.json();\n    //         })\n    //         .then(data => {\n    //             if (data == null) {\n    //                 console.log(\"Authentication failed\")\n    //                 this.errMessage = 'Please try again.';\n    //             } else {\n    //                 console.log(\"Logon successful\")\n    //                 this.authenticated = true;\n    //             }\n    //         })\n    //         .catch(error => {\n    //             console.error('An error occurred during form validation:', error);\n    //             this.errMessage = 'An error occurred during form validation. Please try again later.';\n    //         })\n    //         this.username = '';\n    //         this.password = '';\n    //     }\n    // },\n\n\n\n\n    \n    computed: {\n        credential() {\n            return {\n                username: this.username,\n                password: this.password\n            }\n        }\n    }\n};\n</script>"],"mappings":";gCAMkBA,mBAAA,CAAmB,YAAf,YAAU;;;;;;;;;;;;UALRC,KAAA,CAAAC,aAAa,I,cAAjCC,YAAA,CAmBcC,sBAAA;IAAAC,GAAA;EAAA;sBAlBV,MAiBU,CAjBVC,YAAA,CAiBUC,gBAAA;wBAhBN,MAeQ,CAfRD,YAAA,CAeQE,gBAAA;QAfDC,KAAK,EAAC,QAAQ;QAACC,IAAI,EAAC,IAAI;QAACC,EAAE,EAAC;;0BACjC,MAaS,CAbTL,YAAA,CAaSM,iBAAA;UAbDH,KAAK,EAAC,SAAS;UAAC,WAAS,EAAC;;4BAChC,MAEe,CAFfH,YAAA,CAEeO,uBAAA;8BADb,MAAmB,CAAnBC,UAAmB,C;;cAErBR,YAAA,CAQcS,sBAAA;8BAPZ,MAKS,CALTT,YAAA,CAKSU,iBAAA;cALDC,GAAG,EAAC,MAAM;0BAAUhB,KAAA,CAAAiB,KAAK;yEAALjB,KAAA,CAAAiB,KAAK,GAAAC,MAAA;;gCAC/B,MAAqH,CAArHb,YAAA,CAAqHc,uBAAA;4BAA9FnB,KAAA,CAAAoB,KAAK,CAACC,QAAQ;2EAAdrB,KAAA,CAAAoB,KAAK,CAACC,QAAQ,GAAAH,MAAA;gBAAGI,OAAO,EAAE,EAAE;gBAAGC,KAAK,EAAEvB,KAAA,CAAAwB,aAAa;gBAAEC,KAAK,EAAC,UAAU;gBAACC,QAAQ,EAAR;oDAC7FrB,YAAA,CAAuHc,uBAAA;4BAAhGnB,KAAA,CAAAoB,KAAK,CAACO,QAAQ;2EAAd3B,KAAA,CAAAoB,KAAK,CAACO,QAAQ,GAAAT,MAAA;gBAAEO,KAAK,EAAC,UAAU;gBAACG,IAAI,EAAC,UAAU;gBAAEL,KAAK,EAAEvB,KAAA,CAAA6B,aAAa;gBAAEH,QAAQ,EAAR;oDAC/FrB,YAAA,CAAkEyB,gBAAA;gBAA3DC,KAAK,EAAC,SAAS;gBAACvB,KAAK,EAAC,MAAM;gBAAEwB,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAf,MAAA,IAAEgB,QAAA,CAAAC,KAAK;;kCAAI,MAAK,C,iBAAL,OAAK,E;;kBAC1D9B,YAAA,CAA8DyB,gBAAA;gBAAvDC,KAAK,EAAC,OAAO;gBAACvB,KAAK,EAAC,MAAM;gBAAEwB,OAAK,EAAEE,QAAA,CAAAE;;kCAAO,MAAK,C,iBAAL,OAAK,E;;;;mCAExDrC,mBAAA,CAAgB,WAAAsC,gBAAA,CAAVrC,KAAA,CAAAsC,GAAG,M;;;;;;;;;;uBAMvBpC,YAAA,CAEcC,sBAAA;IAAAC,GAAA;EAAA;sBADV,MAAiC,CAAjCC,YAAA,CAAiCkC,yBAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}