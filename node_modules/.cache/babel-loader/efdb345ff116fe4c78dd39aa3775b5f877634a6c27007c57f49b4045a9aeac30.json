{"ast":null,"code":"import axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.css';\nexport default {\n  name: 'AdminDashboard',\n  data() {\n    return {\n      applications: [],\n      loading: true\n    };\n  },\n  mounted() {\n    this.fetchApplications();\n  },\n  methods: {\n    fetchApplications() {\n      axios.get('https://mercury.swin.edu.au/cos20031/s104194774/duonghdtask/resources/api_apply.php/').then(response => {\n        this.applications = response.data;\n        this.applications.reverse();\n        this.loading = false;\n      }).catch(error => {\n        console.error('Failed to fetch applications:', error);\n        this.loading = false;\n      });\n    },\n    deleteApplication(applicationId) {\n      const delSQLApiURL = `https://mercury.swin.edu.au/cos20031/s104194774/duonghdtask/resources/api_apply.php/${applicationId}`;\n      axios.delete(delSQLApiURL).then(response => {\n        // Check if the deletion was successful\n        if (response.status === 200) {\n          // Remove the application from the list\n          this.applications = this.applications.filter(app => app.id !== applicationId);\n        } else {\n          console.error('Failed to delete the application:', response.data);\n        }\n      }).catch(error => {\n        console.error('There was an error during the deletion:', error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","applications","loading","mounted","fetchApplications","methods","get","then","response","reverse","catch","error","console","deleteApplication","applicationId","delSQLApiURL","delete","status","filter","app","id"],"sources":["/Users/admin/Documents/HDTask/Coffee/src/components/AdminDashboard.vue"],"sourcesContent":["<template>\n    <v-card-title>Admin Dashboard</v-card-title>\n    <div v-if=\"loading\">Loading...</div>\n    <div v-else>\n        <v-card-item title=\"Recent Applications\">\n            <v-card class=\"m-4 p-3\" v-for=\"application in applications\" :key=\"application.id\">\n                <v-card-title>Application {{ application.id }}</v-card-title>\n                <!-- Delete Button -->\n                <v-btn depressed v-on:click=\"deleteApplication(application)\" color=\"primary\">\n                    Delete Candidate\n                </v-btn>\n                <v-card-subtitle>Position: {{ application.position }}. Store: {{ application.store }}</v-card-subtitle>\n                <v-card-text>\n                    <div>Name: {{ application.name }}</div>\n                    <div>Contact email: {{ application.email }}</div>\n                    <div>Contact phone: {{ application.phone }}</div>\n                    <div>Address: {{ application.address }}</div>\n                    <div>Education: {{ application.education }}</div>\n                    <div>Experience: {{ application.experience }}</div>\n                    <div>Submission date: {{ application.submission_date }}</div>\n                    <div>Description: {{ application.description }}</div>\n                </v-card-text>\n            </v-card>\n        </v-card-item>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nexport default {\n    name: 'AdminDashboard',\n    data() {\n        return {\n            applications: [],\n            loading: true\n        };\n    },\n    mounted() {\n        this.fetchApplications();\n    },\n    methods: {\n        fetchApplications() {\n            axios\n                .get('https://mercury.swin.edu.au/cos20031/s104194774/duonghdtask/resources/api_apply.php/')\n                .then(response => {\n                    this.applications = response.data;\n                    this.applications.reverse();\n                    this.loading = false;\n                })\n                .catch(error => {\n                    console.error('Failed to fetch applications:', error);\n                    this.loading = false;\n                });\n        },\n\n        deleteApplication(applicationId) {\n            const delSQLApiURL = `https://mercury.swin.edu.au/cos20031/s104194774/duonghdtask/resources/api_apply.php/${applicationId}`;\n\n            axios.delete(delSQLApiURL)\n                .then(response => {\n                    // Check if the deletion was successful\n                    if (response.status === 200) {\n                        // Remove the application from the list\n                        this.applications = this.applications.filter(app => app.id !== applicationId);\n                    } else {\n                        console.error('Failed to delete the application:', response.data);\n                    }\n                })\n                .catch(error => {\n                    console.error('There was an error during the deletion:', error);\n                });\n        }\n    }\n};\n</script>\n"],"mappings":"AA4BA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAO,kCAAkC;AAEzC,eAAe;EACXC,IAAI,EAAE,gBAAgB;EACtBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,YAAY,EAAE,EAAE;MAChBC,OAAO,EAAE;IACb,CAAC;EACL,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,iBAAiB,CAAC,CAAC;EAC5B,CAAC;EACDC,OAAO,EAAE;IACLD,iBAAiBA,CAAA,EAAG;MAChBN,KAAI,CACCQ,GAAG,CAAC,sFAAsF,EAC1FC,IAAI,CAACC,QAAO,IAAK;QACd,IAAI,CAACP,YAAW,GAAIO,QAAQ,CAACR,IAAI;QACjC,IAAI,CAACC,YAAY,CAACQ,OAAO,CAAC,CAAC;QAC3B,IAAI,CAACP,OAAM,GAAI,KAAK;MACxB,CAAC,EACAQ,KAAK,CAACC,KAAI,IAAK;QACZC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;QACrD,IAAI,CAACT,OAAM,GAAI,KAAK;MACxB,CAAC,CAAC;IACV,CAAC;IAEDW,iBAAiBA,CAACC,aAAa,EAAE;MAC7B,MAAMC,YAAW,GAAK,uFAAsFD,aAAc,EAAC;MAE3HhB,KAAK,CAACkB,MAAM,CAACD,YAAY,EACpBR,IAAI,CAACC,QAAO,IAAK;QACd;QACA,IAAIA,QAAQ,CAACS,MAAK,KAAM,GAAG,EAAE;UACzB;UACA,IAAI,CAAChB,YAAW,GAAI,IAAI,CAACA,YAAY,CAACiB,MAAM,CAACC,GAAE,IAAKA,GAAG,CAACC,EAAC,KAAMN,aAAa,CAAC;QACjF,OAAO;UACHF,OAAO,CAACD,KAAK,CAAC,mCAAmC,EAAEH,QAAQ,CAACR,IAAI,CAAC;QACrE;MACJ,CAAC,EACAU,KAAK,CAACC,KAAI,IAAK;QACZC,OAAO,CAACD,KAAK,CAAC,yCAAyC,EAAEA,KAAK,CAAC;MACnE,CAAC,CAAC;IACV;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}