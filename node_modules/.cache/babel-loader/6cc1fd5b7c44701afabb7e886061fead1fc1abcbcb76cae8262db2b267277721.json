{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_card_title = _resolveComponent(\"v-card-title\");\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n  const _component_v_alert = _resolveComponent(\"v-alert\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_form = _resolveComponent(\"v-form\");\n  const _component_v_sheet = _resolveComponent(\"v-sheet\");\n  const _component_v_card_text = _resolveComponent(\"v-card-text\");\n  const _component_v_card_item = _resolveComponent(\"v-card-item\");\n  const _component_AdminDashboard = _resolveComponent(\"AdminDashboard\");\n  return !$data.authenticated ? (_openBlock(), _createBlock(_component_v_card_item, {\n    key: 0\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_card_title, null, {\n      default: _withCtx(() => [_createTextVNode(\"Admin Login\")]),\n      _: 1\n    }), _createVNode(_component_v_card_text, {\n      class: \"my-4\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_sheet, {\n        \"max-width\": \"500\",\n        class: \"mx-auto\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_form, {\n          class: \"border elevation-4 rounded-lg p-3\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_v_text_field, {\n            modelValue: $data.input.username,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.input.username = $event),\n            label: \"Username\",\n            outlined: \"\"\n          }, null, 8, [\"modelValue\"]), _createVNode(_component_v_text_field, {\n            modelValue: $data.input.password,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.input.password = $event),\n            \"append-icon\": $data.showPasswordInPlainText ? 'mdi-eye' : 'mdi-eye-off',\n            type: $data.showPasswordInPlainText ? 'text' : 'password',\n            name: \"input-10-1\",\n            label: \"Password\",\n            counter: \"\",\n            \"onClick:append\": _cache[2] || (_cache[2] = $event => $data.showPasswordInPlainText = !$data.showPasswordInPlainText),\n            outlined: \"\"\n          }, null, 8, [\"modelValue\", \"append-icon\", \"type\"]), $data.errMessage !== '' ? (_openBlock(), _createBlock(_component_v_alert, {\n            key: 0,\n            color: \"#ffccd5\",\n            type: \"error\",\n            title: \"Invalid Credentials\",\n            text: $data.errMessage\n          }, null, 8, [\"text\"])) : _createCommentVNode(\"\", true), _createVNode(_component_v_btn, {\n            onClick: _cache[3] || (_cache[3] = $event => $options.login()),\n            color: \"success\",\n            type: \"button\",\n            class: \"mt-2\",\n            text: \"Login\",\n            block: \"\"\n          })]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    })]),\n    _: 1\n  })) : (_openBlock(), _createBlock(_component_v_card_item, {\n    key: 1\n  }, {\n    default: _withCtx(() => [_createVNode(_component_AdminDashboard)]),\n    _: 1\n  }));\n}","map":{"version":3,"names":["$data","authenticated","_createBlock","_component_v_card_item","key","_createVNode","_component_v_card_title","_component_v_card_text","class","_component_v_sheet","_component_v_form","_component_v_text_field","input","username","$event","label","outlined","password","showPasswordInPlainText","type","name","counter","_cache","errMessage","_component_v_alert","color","title","text","_component_v_btn","onClick","$options","login","block","_component_AdminDashboard"],"sources":["/Users/admin/Documents/HDTask/Coffee/src/components/Component4.vue"],"sourcesContent":["<template>\n    <v-card-item v-if=\"!authenticated\">\n        <v-card-title>Admin Login</v-card-title>\n        <v-card-text class=\"my-4\">\n            <v-sheet max-width=\"500\" class=\"mx-auto\">\n                <v-form class=\"border elevation-4 rounded-lg p-3\">\n                    <v-text-field v-model=\"input.username\" label=\"Username\" outlined></v-text-field>\n                    <v-text-field v-model=\"input.password\" :append-icon=\"showPasswordInPlainText ? 'mdi-eye' : 'mdi-eye-off'\"\n                        :type=\"showPasswordInPlainText ? 'text' : 'password'\" name=\"input-10-1\" label=\"Password\" counter\n                        @click:append=\"showPasswordInPlainText = !showPasswordInPlainText\" outlined></v-text-field>\n                    <v-alert v-if=\"errMessage !== ''\" color=\"#ffccd5\" type=\"error\" title=\"Invalid Credentials\" :text=\"errMessage\"></v-alert>\n                    <v-btn @click=\"login()\" color=\"success\" type=\"button\" class=\"mt-2\" text=\"Login\" block></v-btn>\n                </v-form>\n            </v-sheet>\n        </v-card-text>\n    </v-card-item>\n    <v-card-item v-else>\n        <AdminDashboard></AdminDashboard>\n    </v-card-item>\n</template>\n\n<script>\nimport AdminDashboard from './AdminDashboard.vue';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nexport default {\n    name: 'ComponentFour',\n    components: {\n        AdminDashboard\n    },\n    data() {\n        return {\n            showPasswordInPlainText: false,\n            // username: '',\n            // password: '',\n            authenticated: false,\n            errMessage: '',\n            input: {\n                username: '',\n                password: ''\n            },\n        }\n    },\n\n\n\n    \n    methods: {\n        login() {\n            //console.log(this.credential)\n            // Send a POST request to the API for validation\n            fetch('https://mercury.swin.edu.au/cos30043/s104357292/HDTASK/Coffee/src/components/api_user.php', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                //body: JSON.stringify(this.credential)\n                body: JSON.stringify({\n                    username: this.input.username,\n                    password: this.input.password\n                })\n            })\n            .then(response => response.json() )\n            .then(data => {\n                if (data == null) {\n                    console.log(\"Authentication failed\")\n                    this.errMessage = 'Please try again.';\n                } else {\n                    console.log(\"Logon successful\")\n                    // this.authenticated = true;\n                    this.$emit(\"authenticated\", true);\n\n                }\n            })\n            // .catch(error => {\n            //     console.log('An error occurred during form validation:', error);\n            //     this.errMessage = 'An error occurred during form validation. Please try again later.';\n            // });\n            .catch(error => {\n            this.errMessage = \"Error: \" + error;\n            });\n            // this.username = '';\n            // this.password = '';\n        }\n    },\n    // computed: {\n    //     credential() {\n    //         return {\n    //             username: this.username,\n    //             password: this.password\n    //         }\n    //     }\n    // }\n};\n</script>"],"mappings":";;;;;;;;;;;UACwBA,KAAA,CAAAC,aAAa,I,cAAjCC,YAAA,CAccC,sBAAA;IAAAC,GAAA;EAAA;sBAbV,MAAwC,CAAxCC,YAAA,CAAwCC,uBAAA;wBAA1B,MAAW,C,iBAAX,aAAW,E;;QACzBD,YAAA,CAWcE,sBAAA;MAXDC,KAAK,EAAC;IAAM;wBACrB,MASU,CATVH,YAAA,CASUI,kBAAA;QATD,WAAS,EAAC,KAAK;QAACD,KAAK,EAAC;;0BAC3B,MAOS,CAPTH,YAAA,CAOSK,iBAAA;UAPDF,KAAK,EAAC;QAAmC;4BAC7C,MAAgF,CAAhFH,YAAA,CAAgFM,uBAAA;wBAAzDX,KAAA,CAAAY,KAAK,CAACC,QAAQ;uEAAdb,KAAA,CAAAY,KAAK,CAACC,QAAQ,GAAAC,MAAA;YAAEC,KAAK,EAAC,UAAU;YAACC,QAAQ,EAAR;uCACxDX,YAAA,CAE+FM,uBAAA;wBAFxEX,KAAA,CAAAY,KAAK,CAACK,QAAQ;uEAAdjB,KAAA,CAAAY,KAAK,CAACK,QAAQ,GAAAH,MAAA;YAAG,aAAW,EAAEd,KAAA,CAAAkB,uBAAuB;YACvEC,IAAI,EAAEnB,KAAA,CAAAkB,uBAAuB;YAAwBE,IAAI,EAAC,YAAY;YAACL,KAAK,EAAC,UAAU;YAACM,OAAO,EAAP,EAAO;YAC/F,gBAAY,EAAAC,MAAA,QAAAA,MAAA,MAAAR,MAAA,IAAEd,KAAA,CAAAkB,uBAAuB,IAAIlB,KAAA,CAAAkB,uBAAuB;YAAEF,QAAQ,EAAR;8DACxDhB,KAAA,CAAAuB,UAAU,W,cAAzBrB,YAAA,CAAwHsB,kBAAA;;YAAtFC,KAAK,EAAC,SAAS;YAACN,IAAI,EAAC,OAAO;YAACO,KAAK,EAAC,qBAAqB;YAAEC,IAAI,EAAE3B,KAAA,CAAAuB;kEAClGlB,YAAA,CAA8FuB,gBAAA;YAAtFC,OAAK,EAAAP,MAAA,QAAAA,MAAA,MAAAR,MAAA,IAAEgB,QAAA,CAAAC,KAAK;YAAIN,KAAK,EAAC,SAAS;YAACN,IAAI,EAAC,QAAQ;YAACX,KAAK,EAAC,MAAM;YAACmB,IAAI,EAAC,OAAO;YAACK,KAAK,EAAL;;;;;;;;;uBAKhG9B,YAAA,CAEcC,sBAAA;IAAAC,GAAA;EAAA;sBADV,MAAiC,CAAjCC,YAAA,CAAiC4B,yBAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}