{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.css';\nexport default {\n  name: 'HomeComponent',\n  data() {\n    return {\n      randomFoods: [],\n      loading: true,\n      reviews: [],\n      currentPage: 1,\n      // Current page of reviews\n      reviewsPerPage: 5 // Number of reviews per page\n    };\n  },\n\n  computed: {\n    displayedReviews() {\n      // Calculate the index range for the current page\n      const startIndex = (this.currentPage - 1) * this.reviewsPerPage;\n      const endIndex = startIndex + this.reviewsPerPage;\n\n      // Slice the reviews array based on the index range\n      return this.reviews.slice(startIndex, endIndex);\n    }\n  },\n  mounted() {\n    this.randomFoods = require('@/assets/food.json');\n    this.generateRandomFoods();\n    this.loadReviews();\n  },\n  methods: {\n    loadReviews() {\n      axios.get('https://mercury.swin.edu.au/cos30043/s103533680/api/api_review/apis_review.php').then(response => {\n        this.reviews = response.data;\n        this.reviews.reverse();\n        this.loading = false;\n      }).catch(error => {\n        console.error('Failed to load reviews:', error);\n        this.loading = false;\n      });\n    },\n    paginateReviews(page) {\n      this.currentPage = page;\n    },\n    generateRandomFoods() {\n      const randomIndices = [];\n      while (randomIndices.length < 3) {\n        const randomIndex = Math.floor(Math.random() * this.randomFoods.length);\n        if (!randomIndices.includes(randomIndex)) {\n          randomIndices.push(randomIndex);\n        }\n      }\n      this.randomFoods = randomIndices.map(index => this.randomFoods[index]);\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","randomFoods","loading","reviews","currentPage","reviewsPerPage","computed","displayedReviews","startIndex","endIndex","slice","mounted","require","generateRandomFoods","loadReviews","methods","get","then","response","reverse","catch","error","console","paginateReviews","page","randomIndices","length","randomIndex","Math","floor","random","includes","push","map","index"],"sources":["/Users/admin/Documents/HDTask/Coffee/src/components/HomeComponent.vue"],"sourcesContent":["<template>\n    <v-card-item>\n        <v-card-title style=\"color: red\" ,  >Welcome to Maples Cafe - A Destination for Coffee Lovers</v-card-title>\n        <v-card-subtitle>Indulge in our curated selection of artisanal coffee blends and delectable pastries!</v-card-subtitle>\n\n    </v-card-item>\n    <v-card-item class=\"m-2 p-3 elevation-4\">\n        <v-card-title>Dishes of the day</v-card-title>\n        <v-row justify=\"center\">\n            <v-col v-for=\"food in randomFoods\" :key=\"food.id\" cols=\"12\" sm=\"4\">\n                <v-img class=\"m-3\" :src=\"food.image\" :alt=\"food.name\"></v-img>\n            </v-col>\n        </v-row>\n    </v-card-item>\n    <div v-if=\"loading\">Loading reviews...</div>\n    <div v-else>\n        <v-sheet>\n            <v-card-item>\n                <v-card-title>Reviews from our valued customers</v-card-title>\n                <v-card v-for=\"(review, index) in displayedReviews\" :key=\"index\" class=\"m-4 h-50\">\n                    <v-rating v-model=\"review.rating\" empty-icon=\"mdi-heart-outline\" full-icon=\"mdi-heart\" color=\"#74C69D\"\n                        readonly></v-rating>\n                    <v-card-text>{{ review.description }}</v-card-text>\n                </v-card>\n                <v-pagination v-model=\"currentPage\" :length=\"Math.ceil(reviews.length / reviewsPerPage)\"\n                    @input=\"paginateReviews\"></v-pagination>\n            </v-card-item>\n        </v-sheet>\n    </div>\n</template>\n  \n<script>\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nexport default {\n    name: 'HomeComponent',\n    data() {\n        return {\n            randomFoods: [],\n            loading: true,\n            reviews: [],\n            currentPage: 1, // Current page of reviews\n            reviewsPerPage: 5, // Number of reviews per page\n        };\n    },\n    computed: {\n        displayedReviews() {\n            // Calculate the index range for the current page\n            const startIndex = (this.currentPage - 1) * this.reviewsPerPage;\n            const endIndex = startIndex + this.reviewsPerPage;\n\n            // Slice the reviews array based on the index range\n            return this.reviews.slice(startIndex, endIndex);\n        },\n    },\n    mounted() {\n        this.randomFoods = require('@/assets/food.json');\n        this.generateRandomFoods();\n        this.loadReviews();\n    },\n    methods: {\n        loadReviews() {\n            axios\n                .get('https://mercury.swin.edu.au/cos30043/s103533680/api/api_review/apis_review.php')\n                .then(response => {\n                    this.reviews = response.data;\n                    this.reviews.reverse();\n                    this.loading = false;\n                })\n                .catch(error => {\n                    console.error('Failed to load reviews:', error);\n                    this.loading = false;\n                });\n        },\n        paginateReviews(page) {\n            this.currentPage = page;\n        },\n        generateRandomFoods() {\n            const randomIndices = [];\n            while (randomIndices.length < 3) {\n                const randomIndex = Math.floor(Math.random() * this.randomFoods.length);\n                if (!randomIndices.includes(randomIndex)) {\n                    randomIndices.push(randomIndex);\n                }\n            }\n            this.randomFoods = randomIndices.map(index => this.randomFoods[index]);\n        }\n    },\n};\n</script>\n  "],"mappings":";AAgCA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAO,kCAAkC;AAEzC,eAAe;EACXC,IAAI,EAAE,eAAe;EACrBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,WAAW,EAAE,EAAE;MACfC,OAAO,EAAE,IAAI;MACbC,OAAO,EAAE,EAAE;MACXC,WAAW,EAAE,CAAC;MAAE;MAChBC,cAAc,EAAE,CAAC,CAAE;IACvB,CAAC;EACL,CAAC;;EACDC,QAAQ,EAAE;IACNC,gBAAgBA,CAAA,EAAG;MACf;MACA,MAAMC,UAAS,GAAI,CAAC,IAAI,CAACJ,WAAU,GAAI,CAAC,IAAI,IAAI,CAACC,cAAc;MAC/D,MAAMI,QAAO,GAAID,UAAS,GAAI,IAAI,CAACH,cAAc;;MAEjD;MACA,OAAO,IAAI,CAACF,OAAO,CAACO,KAAK,CAACF,UAAU,EAAEC,QAAQ,CAAC;IACnD;EACJ,CAAC;EACDE,OAAOA,CAAA,EAAG;IACN,IAAI,CAACV,WAAU,GAAIW,OAAO,CAAC,oBAAoB,CAAC;IAChD,IAAI,CAACC,mBAAmB,CAAC,CAAC;IAC1B,IAAI,CAACC,WAAW,CAAC,CAAC;EACtB,CAAC;EACDC,OAAO,EAAE;IACLD,WAAWA,CAAA,EAAG;MACVhB,KAAI,CACCkB,GAAG,CAAC,gFAAgF,EACpFC,IAAI,CAACC,QAAO,IAAK;QACd,IAAI,CAACf,OAAM,GAAIe,QAAQ,CAAClB,IAAI;QAC5B,IAAI,CAACG,OAAO,CAACgB,OAAO,CAAC,CAAC;QACtB,IAAI,CAACjB,OAAM,GAAI,KAAK;MACxB,CAAC,EACAkB,KAAK,CAACC,KAAI,IAAK;QACZC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;QAC/C,IAAI,CAACnB,OAAM,GAAI,KAAK;MACxB,CAAC,CAAC;IACV,CAAC;IACDqB,eAAeA,CAACC,IAAI,EAAE;MAClB,IAAI,CAACpB,WAAU,GAAIoB,IAAI;IAC3B,CAAC;IACDX,mBAAmBA,CAAA,EAAG;MAClB,MAAMY,aAAY,GAAI,EAAE;MACxB,OAAOA,aAAa,CAACC,MAAK,GAAI,CAAC,EAAE;QAC7B,MAAMC,WAAU,GAAIC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,IAAI,IAAI,CAAC7B,WAAW,CAACyB,MAAM,CAAC;QACvE,IAAI,CAACD,aAAa,CAACM,QAAQ,CAACJ,WAAW,CAAC,EAAE;UACtCF,aAAa,CAACO,IAAI,CAACL,WAAW,CAAC;QACnC;MACJ;MACA,IAAI,CAAC1B,WAAU,GAAIwB,aAAa,CAACQ,GAAG,CAACC,KAAI,IAAK,IAAI,CAACjC,WAAW,CAACiC,KAAK,CAAC,CAAC;IAC1E;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}