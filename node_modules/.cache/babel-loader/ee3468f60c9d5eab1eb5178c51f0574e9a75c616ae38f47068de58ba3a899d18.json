{"ast":null,"code":"import AdminDashboard from './AdminDashboard.vue';\nimport 'bootstrap/dist/css/bootstrap.css';\nexport default {\n  name: 'ComponentFour',\n  components: {\n    AdminDashboard\n  },\n  data() {\n    return {\n      showPasswordInPlainText: false,\n      username: '',\n      password: '',\n      authenticated: true,\n      errMessage: ''\n    };\n  },\n  methods: {\n    login() {\n      // Send a POST request to the API for validation\n      fetch('https://mercury.swin.edu.au/cos30043/s104357292/HDTASK/Coffee/src/components/api_user.php', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.credential)\n      }).then(response => {\n        return response.json();\n      }).then(data => {\n        if (data == null) {\n          console.log(\"Authentication failed\");\n          this.errMessage = 'Please try again.';\n        } else {\n          console.log(\"Logon successful\");\n          this.authenticated = true;\n        }\n      }).catch(error => {\n        console.error('An error occurred during form validation:', error);\n      });\n      this.username = '';\n      this.password = '';\n    }\n  },\n  computed: {\n    credential() {\n      return {\n        username: this.username,\n        password: this.password\n      };\n    }\n  }\n};","map":{"version":3,"names":["AdminDashboard","name","components","data","showPasswordInPlainText","username","password","authenticated","errMessage","methods","login","fetch","method","headers","body","JSON","stringify","credential","then","response","json","console","log","catch","error","computed"],"sources":["/Users/admin/Documents/HDTask/Coffee/src/components/Component4.vue"],"sourcesContent":["<template>\n    <v-card-item v-if=\"!authenticated\">\n        <v-card-title>Admin Login</v-card-title>\n        <v-card-text class=\"my-4\">\n            <v-sheet max-width=\"500\" class=\"mx-auto\">\n                <v-form class=\"border elevation-4 rounded-lg p-3\">\n                    <v-text-field v-model=\"username\" label=\"Username\" outlined></v-text-field>\n                    <v-text-field v-model=\"password\" :append-icon=\"showPasswordInPlainText ? 'mdi-eye' : 'mdi-eye-off'\"\n                        :type=\"showPasswordInPlainText ? 'text' : 'password'\" name=\"input-10-1\" label=\"Password\" counter\n                        @click:append=\"showPasswordInPlainText = !showPasswordInPlainText\" outlined></v-text-field>\n                    <v-alert v-if=\"errMessage !== ''\" color=\"#ffccd5\" type=\"error\" title=\"Invalid Credentials\" :text=\"errMessage\"></v-alert>\n                    <v-btn @click=\"login()\" type=\"button\" class=\"mt-2\" text=\"Login\" block></v-btn>\n                </v-form>\n            </v-sheet>\n        </v-card-text>\n    </v-card-item>\n    <v-card-item v-else>\n        <AdminDashboard></AdminDashboard>\n    </v-card-item>\n</template>\n<script>\nimport AdminDashboard from './AdminDashboard.vue';\nimport 'bootstrap/dist/css/bootstrap.css';\n\n\nexport default {\n    name: 'ComponentFour',\n    components: {\n        AdminDashboard\n    },\n    data() {\n        return {\n            showPasswordInPlainText: false,\n            username: '',\n            password: '',\n            authenticated: true,\n            errMessage: ''\n        }\n    },\n    methods: {\n        login() {\n            // Send a POST request to the API for validation\n            fetch('https://mercury.swin.edu.au/cos30043/s104357292/HDTASK/Coffee/src/components/api_user.php', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(this.credential)\n            })\n                .then(response => {\n                    return response.json()\n                })\n                .then(data => {\n                    if (data == null) {\n                        console.log(\"Authentication failed\")\n                        this.errMessage = 'Please try again.'\n                    } else {\n                        console.log(\"Logon successful\")\n                        this.authenticated = true;\n                    }\n                })\n                .catch(error => {\n                    console.error('An error occurred during form validation:', error);\n                });\n            this.username = '';\n            this.password = '';\n        }\n    },\n    computed: {\n        credential() {\n            return {\n                username: this.username,\n                password: this.password\n            }\n        }\n    }\n};\n</script>\n\n\n\n\n\n\n\n\n\n\n<!-- <template>\n    <v-card-item v-if=\"!authenticated\">\n        <v-card-title>Admin Login</v-card-title>\n        <v-card-text class=\"my-4\">\n            <v-sheet max-width=\"500\" class=\"mx-auto\">\n                <v-form class=\"border elevation-4 rounded-lg p-3\">\n                    <v-text-field v-model=\"username\" label=\"Username\" outlined></v-text-field>\n                    <v-text-field v-model=\"password\" :append-icon=\"showPasswordInPlainText ? 'mdi-eye' : 'mdi-eye-off'\"\n                        :type=\"showPasswordInPlainText ? 'text' : 'password'\" name=\"input-10-1\" label=\"Password\" counter\n                        @click:append=\"showPasswordInPlainText = !showPasswordInPlainText\" outlined></v-text-field>\n                    <v-alert v-if=\"errMessage !== ''\" color=\"#ffccd5\" type=\"error\" title=\"Invalid Credentials\" :text=\"errMessage\"></v-alert>\n                    <v-btn @click=\"login()\" type=\"button\" class=\"mt-2\" text=\"Login\" block></v-btn>\n                </v-form>\n            </v-sheet>\n        </v-card-text>\n    </v-card-item>\n    <v-card-item v-else>\n        <AdminDashboard></AdminDashboard>\n    </v-card-item>\n</template>\n\n<script>\nimport AdminDashboard from './AdminDashboard.vue';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nexport default {\n    name: 'ComponentFour',\n    components: {\n        AdminDashboard\n    },\n    data() {\n        return {\n            showPasswordInPlainText: false,\n            username: '',\n            password: '',\n            authenticated: false,\n            errMessage: ''\n        }\n    },\n    methods: {\n        login() {\n            // Send a POST request to the API for validation\n            fetch('https://mercury.swin.edu.au/cos30043/s104357292/HDTASK/Coffee/src/components/api_user.php', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(this.credential)\n            })\n                .then(response => {\n                    if (response.ok) {\n                        return response.json();\n                    } else {\n                        throw new Error('Authentication failed');\n                    }\n                })\n                /* eslint-disable */\n                .then(data => {\n                    console.log(\"Logon successful\");\n                    this.authenticated = true;\n                })\n                .catch(error => {\n    console.error('An error occurred during form validation:', error);\n    this.errMessage = 'Please try again.';\n    this.authenticated = false;\n});\n\n            this.username = '';\n            this.password = '';\n        }\n    },\n    computed: {\n        credential() {\n            return {\n                username: this.username,\n                password: this.password\n            }\n        }\n    }\n};\n</script> -->\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<!-- <template>\n    <v-card-item v-if=\"!authenticated\">\n        <v-card-title>Admin Login</v-card-title>\n        <v-card-text class=\"my-4\">\n            <v-sheet max-width=\"500\" class=\"mx-auto\">\n                <v-form class=\"border elevation-4 rounded-lg p-3\">\n                    <v-text-field v-model=\"input.username\" label=\"Username\" outlined></v-text-field>\n                    <v-text-field v-model=\"input.password\" :append-icon=\"showPasswordInPlainText ? 'mdi-eye' : 'mdi-eye-off'\"\n                        :type=\"showPasswordInPlainText ? 'text' : 'password'\" name=\"input-10-1\" label=\"Password\" counter\n                        @click:append=\"showPasswordInPlainText = !showPasswordInPlainText\" outlined></v-text-field>\n                    <v-alert v-if=\"errMessage !== ''\" color=\"#ffccd5\" type=\"error\" title=\"Invalid Credentials\" :text=\"errMessage\"></v-alert>\n                    <v-btn @click=\"login()\" type=\"button\" class=\"mt-2\" text=\"Login\" block></v-btn>\n                </v-form>\n            </v-sheet>\n        </v-card-text>\n    </v-card-item>\n    <v-card-item v-else>\n        <AdminDashboard></AdminDashboard>\n    </v-card-item>\n</template>\n\n<script>\nimport AdminDashboard from './AdminDashboard.vue';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nexport default {\n    name: 'ComponentFour',\n    components: {\n        AdminDashboard\n    },\n    data() {\n        // This is the old code\n        // return {\n        //     showPasswordInPlainText: false,\n        //     username: '',\n        //     password: '',\n        //     authenticated: false,\n        //     errMessage: ''\n        // }\n        // This is the new code\n        return {\n            input: {\n                username: '',\n                password: ''\n            },\n            valid: true,\n        }\n    },\n    methods: {\n        login() {\n            if (0) {\n                const requestOptions = {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Access-Control-Allow-Origin': '*'\n                },\n                body: JSON.stringify({\n                    username: this.input.username,\n                    password: this.input.password\n                })\n                };\n\n                fetch(\"https://mercury.swin.edu.au/cos30043/s104357292/9.2C/resources/api_user.php/\", requestOptions)\n                .then(response => response.json())\n                .then(data => {\n                    if (data === null) {\n                    this.msg = \"Username or password incorrect.\";\n                    } else {\n                    this.$emit(\"authenticated\", true);\n                    this.$router.replace({ name: \"dashboard\" });\n                    }\n                })\n                .catch(error => {\n                    // this.msg = \"Error: \" + error;\n                    console.log(error);\n                });\n            }\n        },\n    },\n\n\n\n\n    // I will try to comment it because the other file dont have it\n    // computed: {\n    //     credential() {\n    //         return {\n    //             username: this.username,\n    //             password: this.password\n    //         }\n    //     }\n    // }\n};\n</script> -->\n"],"mappings":"AAqBA,OAAOA,cAAa,MAAO,sBAAsB;AACjD,OAAO,kCAAkC;AAGzC,eAAe;EACXC,IAAI,EAAE,eAAe;EACrBC,UAAU,EAAE;IACRF;EACJ,CAAC;EACDG,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,uBAAuB,EAAE,KAAK;MAC9BC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,aAAa,EAAE,IAAI;MACnBC,UAAU,EAAE;IAChB;EACJ,CAAC;EACDC,OAAO,EAAE;IACLC,KAAKA,CAAA,EAAG;MACJ;MACAC,KAAK,CAAC,2FAA2F,EAAE;QAC/FC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACC,UAAU;MACxC,CAAC,EACIC,IAAI,CAACC,QAAO,IAAK;QACd,OAAOA,QAAQ,CAACC,IAAI,CAAC;MACzB,CAAC,EACAF,IAAI,CAACf,IAAG,IAAK;QACV,IAAIA,IAAG,IAAK,IAAI,EAAE;UACdkB,OAAO,CAACC,GAAG,CAAC,uBAAuB;UACnC,IAAI,CAACd,UAAS,GAAI,mBAAkB;QACxC,OAAO;UACHa,OAAO,CAACC,GAAG,CAAC,kBAAkB;UAC9B,IAAI,CAACf,aAAY,GAAI,IAAI;QAC7B;MACJ,CAAC,EACAgB,KAAK,CAACC,KAAI,IAAK;QACZH,OAAO,CAACG,KAAK,CAAC,2CAA2C,EAAEA,KAAK,CAAC;MACrE,CAAC,CAAC;MACN,IAAI,CAACnB,QAAO,GAAI,EAAE;MAClB,IAAI,CAACC,QAAO,GAAI,EAAE;IACtB;EACJ,CAAC;EACDmB,QAAQ,EAAE;IACNR,UAAUA,CAAA,EAAG;MACT,OAAO;QACHZ,QAAQ,EAAE,IAAI,CAACA,QAAQ;QACvBC,QAAQ,EAAE,IAAI,CAACA;MACnB;IACJ;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}