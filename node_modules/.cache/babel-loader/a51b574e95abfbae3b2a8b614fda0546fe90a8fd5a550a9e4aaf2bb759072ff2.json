{"ast":null,"code":"import AdminDashboard from './AdminDashboard.vue';\nimport 'bootstrap/dist/css/bootstrap.css';\nexport default {\n  name: 'ComponentFour',\n  components: {\n    AdminDashboard\n  },\n  data() {\n    return {\n      showPasswordInPlainText: false,\n      username: '',\n      password: '',\n      authenticated: true,\n      errMessage: '',\n      msg: '',\n      input: {\n        username: '',\n        password: ''\n      },\n      valid: true,\n      usernameRules: [v => !!v || 'Name is required', v => v && v.length <= 10 || 'Name must be less than 10 characters'],\n      passwordRules: [v => !!v || 'Password is required', v => v && v.length >= 8 || 'Password must be more than 8 characters']\n    };\n  },\n  methods: {\n    login() {\n      if (this.$refs.form.validate()) {\n        const requestOptions = {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            username: this.input.username,\n            password: this.input.password\n          })\n        };\n        fetch(\"https://mercury.swin.edu.au/cos30043/s104357292/HDTASK/Coffee/src/components/api_user.php\", requestOptions).then(response => response.json()).then(data => {\n          if (data === null) {\n            this.msg = \"Username or password incorrect.\";\n          } else {\n            this.$emit(\"authenticated\", true);\n            this.$router.replace({\n              name: \"dashboard\"\n            });\n          }\n        }).catch(error => {\n          this.msg = \"Error: \" + error;\n        });\n      }\n    },\n    reset() {\n      this.$refs.form.reset();\n    }\n  },\n  // methods: {\n  //     login() {\n  //         // Send a POST request to the API for validation\n  //         fetch('https://mercury.swin.edu.au/cos30043/s104357292/HDTASK/Coffee/src/components/api_user.php', {\n  //             method: 'POST',\n  //             headers: {\n  //                 'Content-Type': 'application/json'\n  //             },\n  //             body: JSON.stringify(this.credential)\n  //         })\n  //         .then(response => {\n  //             if (!response.ok) {\n  //                 throw new Error('Network response was not ok');\n  //             }\n  //             return response.json();\n  //         })\n  //         .then(data => {\n  //             if (data == null) {\n  //                 console.log(\"Authentication failed\")\n  //                 this.errMessage = 'Please try again.';\n  //             } else {\n  //                 console.log(\"Logon successful\")\n  //                 this.authenticated = true;\n  //             }\n  //         })\n  //         .catch(error => {\n  //             console.error('An error occurred during form validation:', error);\n  //             this.errMessage = 'An error occurred during form validation. Please try again later.';\n  //         })\n  //         this.username = '';\n  //         this.password = '';\n  //     }\n  // },\n\n  computed: {\n    credential() {\n      return {\n        username: this.username,\n        password: this.password\n      };\n    }\n  }\n};","map":{"version":3,"names":["AdminDashboard","name","components","data","showPasswordInPlainText","username","password","authenticated","errMessage","msg","input","valid","usernameRules","v","length","passwordRules","methods","login","$refs","form","validate","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","json","$emit","$router","replace","catch","error","reset","computed","credential"],"sources":["/Users/admin/Documents/HDTask/Coffee/src/components/Component4.vue"],"sourcesContent":["<template>\n    <v-card-item v-if=\"!authenticated\">\n        <v-row>\n            <v-col class=\"center\" cols=\"12\" md=\"6\">\n              <v-card class=\"mx-auto\" max-width=\"90%\">\n                <v-card-title>\n                  <h2>User Login</h2>\n                </v-card-title>\n                <v-card-text>\n                  <v-form ref=\"form\" v-model=\"valid\">\n                    <v-text-field v-model=\"input.username\" :counter=\"10\" :rules=\"usernameRules\" label=\"Username\" required></v-text-field>\n                    <v-text-field v-model=\"input.password\" label=\"Password\" type=\"password\" :rules=\"passwordRules\" required></v-text-field>\n                    <v-btn color=\"success\" class=\"mr-4\" @click=\"login()\">Login</v-btn>\n                    <v-btn color=\"error\" class=\"mr-4\" @click=\"reset\">Reset</v-btn>\n                  </v-form>\n                  <p>{{ msg }}</p>\n                </v-card-text>\n              </v-card>\n            </v-col>\n          </v-row>\n    </v-card-item>\n    <v-card-item v-else>\n        <AdminDashboard></AdminDashboard>\n    </v-card-item>\n</template>\n\n<script>\nimport AdminDashboard from './AdminDashboard.vue';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nexport default {\n    name: 'ComponentFour',\n    components: {\n        AdminDashboard\n    },\n    data() {\n        return {\n            showPasswordInPlainText: false,\n            username: '',\n            password: '',\n            authenticated: true,\n            errMessage: '',\n            msg: '',\n            input: {\n                username: '',\n                password: ''\n            },\n            valid: true,\n            usernameRules: [\n                v => !!v || 'Name is required',\n                v => (v && v.length <= 10) || 'Name must be less than 10 characters'\n            ],\n            passwordRules: [\n                v => !!v || 'Password is required',\n                v => (v && v.length >= 8) || 'Password must be more than 8 characters'\n            ]\n            }\n    },\n\n\n\n\n\n\n    methods: {\n    login() {\n      if (this.$refs.form.validate()) {\n        const requestOptions = {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            username: this.input.username,\n            password: this.input.password\n          })\n        };\n\n        fetch(\"https://mercury.swin.edu.au/cos30043/s104357292/HDTASK/Coffee/src/components/api_user.php\", requestOptions)\n          .then(response => response.json())\n          .then(data => {\n            if (data === null) {\n              this.msg = \"Username or password incorrect.\";\n            } else {\n              this.$emit(\"authenticated\", true);\n              this.$router.replace({ name: \"dashboard\" });\n            }\n          })\n          .catch(error => {\n            this.msg = \"Error: \" + error;\n          });\n      }\n    },\n    reset() {\n      this.$refs.form.reset()\n    }\n  },\n\n\n\n\n\n    // methods: {\n    //     login() {\n    //         // Send a POST request to the API for validation\n    //         fetch('https://mercury.swin.edu.au/cos30043/s104357292/HDTASK/Coffee/src/components/api_user.php', {\n    //             method: 'POST',\n    //             headers: {\n    //                 'Content-Type': 'application/json'\n    //             },\n    //             body: JSON.stringify(this.credential)\n    //         })\n    //         .then(response => {\n    //             if (!response.ok) {\n    //                 throw new Error('Network response was not ok');\n    //             }\n    //             return response.json();\n    //         })\n    //         .then(data => {\n    //             if (data == null) {\n    //                 console.log(\"Authentication failed\")\n    //                 this.errMessage = 'Please try again.';\n    //             } else {\n    //                 console.log(\"Logon successful\")\n    //                 this.authenticated = true;\n    //             }\n    //         })\n    //         .catch(error => {\n    //             console.error('An error occurred during form validation:', error);\n    //             this.errMessage = 'An error occurred during form validation. Please try again later.';\n    //         })\n    //         this.username = '';\n    //         this.password = '';\n    //     }\n    // },\n\n\n\n\n    \n    computed: {\n        credential() {\n            return {\n                username: this.username,\n                password: this.password\n            }\n        }\n    }\n};\n</script>"],"mappings":"AA2BA,OAAOA,cAAa,MAAO,sBAAsB;AACjD,OAAO,kCAAkC;AAEzC,eAAe;EACXC,IAAI,EAAE,eAAe;EACrBC,UAAU,EAAE;IACRF;EACJ,CAAC;EACDG,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,uBAAuB,EAAE,KAAK;MAC9BC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,aAAa,EAAE,IAAI;MACnBC,UAAU,EAAE,EAAE;MACdC,GAAG,EAAE,EAAE;MACPC,KAAK,EAAE;QACHL,QAAQ,EAAE,EAAE;QACZC,QAAQ,EAAE;MACd,CAAC;MACDK,KAAK,EAAE,IAAI;MACXC,aAAa,EAAE,CACXC,CAAA,IAAK,CAAC,CAACA,CAAA,IAAK,kBAAkB,EAC9BA,CAAA,IAAMA,CAAA,IAAKA,CAAC,CAACC,MAAK,IAAK,EAAE,IAAK,sCAAqC,CACtE;MACDC,aAAa,EAAE,CACXF,CAAA,IAAK,CAAC,CAACA,CAAA,IAAK,sBAAsB,EAClCA,CAAA,IAAMA,CAAA,IAAKA,CAAC,CAACC,MAAK,IAAK,CAAC,IAAK,yCAAwC;IAEzE;EACR,CAAC;EAODE,OAAO,EAAE;IACTC,KAAKA,CAAA,EAAG;MACN,IAAI,IAAI,CAACC,KAAK,CAACC,IAAI,CAACC,QAAQ,CAAC,CAAC,EAAE;QAC9B,MAAMC,cAAa,GAAI;UACrBC,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YACP,cAAc,EAAE;UAClB,CAAC;UACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YACnBrB,QAAQ,EAAE,IAAI,CAACK,KAAK,CAACL,QAAQ;YAC7BC,QAAQ,EAAE,IAAI,CAACI,KAAK,CAACJ;UACvB,CAAC;QACH,CAAC;QAEDqB,KAAK,CAAC,2FAA2F,EAAEN,cAAc,EAC9GO,IAAI,CAACC,QAAO,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,EAChCF,IAAI,CAACzB,IAAG,IAAK;UACZ,IAAIA,IAAG,KAAM,IAAI,EAAE;YACjB,IAAI,CAACM,GAAE,GAAI,iCAAiC;UAC9C,OAAO;YACL,IAAI,CAACsB,KAAK,CAAC,eAAe,EAAE,IAAI,CAAC;YACjC,IAAI,CAACC,OAAO,CAACC,OAAO,CAAC;cAAEhC,IAAI,EAAE;YAAY,CAAC,CAAC;UAC7C;QACF,CAAC,EACAiC,KAAK,CAACC,KAAI,IAAK;UACd,IAAI,CAAC1B,GAAE,GAAI,SAAQ,GAAI0B,KAAK;QAC9B,CAAC,CAAC;MACN;IACF,CAAC;IACDC,KAAKA,CAAA,EAAG;MACN,IAAI,CAAClB,KAAK,CAACC,IAAI,CAACiB,KAAK,CAAC;IACxB;EACF,CAAC;EAMC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAMAC,QAAQ,EAAE;IACNC,UAAUA,CAAA,EAAG;MACT,OAAO;QACHjC,QAAQ,EAAE,IAAI,CAACA,QAAQ;QACvBC,QAAQ,EAAE,IAAI,CAACA;MACnB;IACJ;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}