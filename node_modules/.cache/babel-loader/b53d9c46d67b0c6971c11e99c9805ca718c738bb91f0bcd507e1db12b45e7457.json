{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_card_title = _resolveComponent(\"v-card-title\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_card_subtitle = _resolveComponent(\"v-card-subtitle\");\n  const _component_v_card_text = _resolveComponent(\"v-card-text\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  const _component_v_card_item = _resolveComponent(\"v-card-item\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_v_card_title, null, {\n    default: _withCtx(() => [_createTextVNode(\"Admin Dashboard\")]),\n    _: 1\n  }), _ctx.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, \"Loading...\")) : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode(_component_v_card_item, {\n    title: \"Recent Applications\"\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.applications, application => {\n      return _openBlock(), _createBlock(_component_v_card, {\n        class: \"m-4 p-3\",\n        key: application.id\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_card_title, null, {\n          default: _withCtx(() => [_createTextVNode(\"Application \" + _toDisplayString(application.id), 1)]),\n          _: 2\n        }, 1024), _createVNode(_component_v_btn, {\n          depressed: \"\",\n          onClick: $event => $options.deleteApplication(application),\n          color: \"primary\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(\" Delete Candidate \")]),\n          _: 2\n        }, 1032, [\"onClick\"]), _createVNode(_component_v_card_subtitle, null, {\n          default: _withCtx(() => [_createTextVNode(\"Position: \" + _toDisplayString(application.position) + \". Store: \" + _toDisplayString(application.store), 1)]),\n          _: 2\n        }, 1024), _createVNode(_component_v_card_text, null, {\n          default: _withCtx(() => [_createElementVNode(\"div\", null, \" Name: \" + _toDisplayString(application.name), 1), _createElementVNode(\"div\", null, \" Contact email: \" + _toDisplayString(application.email), 1), _createElementVNode(\"div\", null, \" Contact phone: \" + _toDisplayString(application.phone), 1), _createElementVNode(\"div\", null, \" Address: \" + _toDisplayString(application.address), 1), _createElementVNode(\"div\", null, \" Education: \" + _toDisplayString(application.education), 1), _createElementVNode(\"div\", null, \" Experience: \" + _toDisplayString(application.experience), 1), _createElementVNode(\"div\", null, \" Submission date: \" + _toDisplayString(application.submission_date), 1), _createElementVNode(\"div\", null, \" Description: \" + _toDisplayString(application.description), 1)]),\n          _: 2\n        }, 1024)]),\n        _: 2\n      }, 1024);\n    }), 128))]),\n    _: 1\n  })]))], 64);\n}","map":{"version":3,"names":["_createVNode","_component_v_card_title","_ctx","loading","_createElementBlock","_hoisted_1","_hoisted_2","_component_v_card_item","title","_Fragment","_renderList","applications","application","_createBlock","_component_v_card","class","key","id","_toDisplayString","_component_v_btn","depressed","onClick","$event","$options","deleteApplication","color","_component_v_card_subtitle","position","store","_component_v_card_text","_createElementVNode","name","email","phone","address","education","experience","submission_date","description"],"sources":["/Users/admin/Documents/HDTask/Coffee/src/components/AdminDashboard.vue"],"sourcesContent":["<template>\n    <v-card-title>Admin Dashboard</v-card-title>\n    <div v-if=\"loading\">Loading...</div>\n    <div v-else>\n        <v-card-item title=\"Recent Applications\">\n            <v-card class=\"m-4 p-3\" v-for=\"application in applications\" :key=\"application.id\">\n                <v-card-title>Application {{ application.id }}</v-card-title>\n                <!-- Delete Button added 18/5 Sat -->\n                <v-btn depressed v-on:click=\"deleteApplication(application)\" color=\"primary\">\n                    Delete Candidate\n                </v-btn>\n                <v-card-subtitle>Position: {{ application.position }}. Store: {{ application.store\n                }}</v-card-subtitle>\n                <v-card-text>\n                    <div>\n                        Name: {{ application.name }}\n                    </div>\n                    <div>\n                        Contact email: {{ application.email }}\n                    </div>\n                    <div>\n                        Contact phone: {{ application.phone }}\n                    </div>\n                    <div>\n                        Address: {{ application.address }}\n                    </div>\n                    <div>\n                        Education: {{ application.education }}\n                    </div>\n                    <div>\n                        Experience: {{ application.experience }}\n                    </div>\n                    <div>\n                        Submission date: {{ application.submission_date }}\n                    </div>\n                    <div>\n                        Description: {{ application.description }}\n                    </div>\n                    \n                </v-card-text>\n            </v-card>\n        </v-card-item>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nexport default {\n    name: 'AdminDashboard',\n    data: function() {\n        return {\n            applications: [],\n            loading: true\n        };\n    },\n    mounted() {\n        this.fetchApplications();\n    },\n    methods: {\n        fetchApplications() {\n            axios\n                // .get('https://mercury.swin.edu.au/cos30043/s104357292/HDTASK/Coffee/src/resources/api_apply.php/')\n                .get('https://mercury.swin.edu.au/cos20031/s104194774/duonghdtask/resources/api_apply.php/')\n\n                .then(response => {\n                    this.applications = response.data;\n                    this.applications.reverse();\n                    this.loading = false;\n                })\n                .catch(error => {\n                    console.error('Failed to fetch applications:', error);\n                    this.loading = false;\n                });\n        },\n\n         /* eslint-disable */\n        deleteApplication: function(application) {\n        var delSQLApiURL = 'https://mercury.swin.edu.au/cos20031/s104194774/duonghdtask/resources/api_apply.php/' + application;\n\n        var self = this;\n        // DELETE request using fetch with error handling\n        const requestOptions = {\n            method: 'DELETE',\n            headers: {\n            'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n            name: code\n            })\n        };\n\n            fetch(delSQLApiURL, requestOptions)\n            .then( response =>{\n                //turning the response into the usable data\n                return response.json( );\n            })\n            .then( data =>{\n            //This is the data you wanted to get from url\n            self.msg = \"Data deleted Successfully\"\n                \n            })\n            .catch(error => {\n                self.msg = 'There was an error!';\n                self.statusText = error;\n            });\t\n        }\n    }\n};\n</script>\n  "],"mappings":";;;;;;;;;;;;;;6DACIA,YAAA,CAA4CC,uBAAA;sBAA9B,MAAe,C,iBAAf,iBAAe,E;;MAClBC,IAAA,CAAAC,OAAO,I,cAAlBC,mBAAA,CAAoC,OAAAC,UAAA,EAAhB,YAAU,M,cAC9BD,mBAAA,CAuCM,OAAAE,UAAA,GAtCFN,YAAA,CAqCcO,sBAAA;IArCDC,KAAK,EAAC;EAAqB;sBACZ,MAAmC,E,kBAA3DJ,mBAAA,CAmCSK,SAAA,QAAAC,WAAA,CAnCqCR,IAAA,CAAAS,YAAY,EAA3BC,WAAW;2BAA1CC,YAAA,CAmCSC,iBAAA;QAnCDC,KAAK,EAAC,SAAS;QAAsCC,GAAG,EAAEJ,WAAW,CAACK;;0BAC1E,MAA6D,CAA7DjB,YAAA,CAA6DC,uBAAA;4BAA/C,MAAY,C,iBAAZ,cAAY,GAAAiB,gBAAA,CAAGN,WAAW,CAACK,EAAE,M;;kBAE3CjB,YAAA,CAEQmB,gBAAA;UAFDC,SAAS,EAAT,EAAS;UAAMC,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,iBAAiB,CAACZ,WAAW;UAAGa,KAAK,EAAC;;4BAAU,MAE7E,C,iBAF6E,oBAE7E,E;;+BACAzB,YAAA,CACoB0B,0BAAA;4BADH,MAAU,C,iBAAV,YAAU,GAAAR,gBAAA,CAAGN,WAAW,CAACe,QAAQ,IAAG,WAAS,GAAAT,gBAAA,CAAGN,WAAW,CAACgB,KAAK,M;;kBAElF5B,YAAA,CA0Bc6B,sBAAA;4BAzBV,MAEM,CAFNC,mBAAA,CAEM,aAFD,SACK,GAAAZ,gBAAA,CAAGN,WAAW,CAACmB,IAAI,OAE7BD,mBAAA,CAEM,aAFD,kBACc,GAAAZ,gBAAA,CAAGN,WAAW,CAACoB,KAAK,OAEvCF,mBAAA,CAEM,aAFD,kBACc,GAAAZ,gBAAA,CAAGN,WAAW,CAACqB,KAAK,OAEvCH,mBAAA,CAEM,aAFD,YACQ,GAAAZ,gBAAA,CAAGN,WAAW,CAACsB,OAAO,OAEnCJ,mBAAA,CAEM,aAFD,cACU,GAAAZ,gBAAA,CAAGN,WAAW,CAACuB,SAAS,OAEvCL,mBAAA,CAEM,aAFD,eACW,GAAAZ,gBAAA,CAAGN,WAAW,CAACwB,UAAU,OAEzCN,mBAAA,CAEM,aAFD,oBACgB,GAAAZ,gBAAA,CAAGN,WAAW,CAACyB,eAAe,OAEnDP,mBAAA,CAEM,aAFD,gBACY,GAAAZ,gBAAA,CAAGN,WAAW,CAAC0B,WAAW,M"},"metadata":{},"sourceType":"module","externalDependencies":[]}