{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  key: 1\n};\nconst _hoisted_3 = {\n  id: \"{{ application.name }}\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_card_title = _resolveComponent(\"v-card-title\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_card_subtitle = _resolveComponent(\"v-card-subtitle\");\n  const _component_v_card_text = _resolveComponent(\"v-card-text\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  const _component_v_card_item = _resolveComponent(\"v-card-item\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_v_card_title, null, {\n    default: _withCtx(() => [_createTextVNode(\"Admin Dashboard\")]),\n    _: 1 /* STABLE */\n  }), $data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, \"Loading...\")) : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode(_component_v_card_item, {\n    title: \"Recent Applications\"\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.applications, (application, index) => {\n      return _openBlock(), _createBlock(_component_v_card, {\n        class: \"m-4 p-3\",\n        key: application.id\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_card_title, null, {\n          default: _withCtx(() => [_createTextVNode(\"Application \" + _toDisplayString(application.id), 1 /* TEXT */)]),\n\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */), _createCommentVNode(\" Delete Button \"), _createVNode(_component_v_btn, {\n          depressed: \"\",\n          onClick: $event => $options.delData(application.id, index),\n          color: \"primary\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(\" Delete Candidate \")]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_v_card_subtitle, null, {\n          default: _withCtx(() => [_createTextVNode(\"Position: \" + _toDisplayString(application.position) + \". Store: \" + _toDisplayString(application.store), 1 /* TEXT */)]),\n\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_v_card_text, null, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, \"Name: \" + _toDisplayString(application.name), 1 /* TEXT */), _createElementVNode(\"div\", null, \"Contact email: \" + _toDisplayString(application.email), 1 /* TEXT */), _createElementVNode(\"div\", null, \"Contact phone: \" + _toDisplayString(application.phone), 1 /* TEXT */), _createElementVNode(\"div\", null, \"Address: \" + _toDisplayString(application.address), 1 /* TEXT */), _createElementVNode(\"div\", null, \"Education: \" + _toDisplayString(application.education), 1 /* TEXT */), _createElementVNode(\"div\", null, \"Experience: \" + _toDisplayString(application.experience), 1 /* TEXT */), _createElementVNode(\"div\", null, \"Submission date: \" + _toDisplayString(application.submission_date), 1 /* TEXT */), _createElementVNode(\"div\", null, \"Description: \" + _toDisplayString(application.description), 1 /* TEXT */)]),\n\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */)]),\n\n        _: 2 /* DYNAMIC */\n      }, 1024 /* DYNAMIC_SLOTS */);\n    }), 128 /* KEYED_FRAGMENT */))]),\n\n    _: 1 /* STABLE */\n  })]))], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["id","_createVNode","_component_v_card_title","$data","loading","_createElementBlock","_hoisted_1","_hoisted_2","_component_v_card_item","title","_Fragment","_renderList","_ctx","applications","application","index","_createBlock","_component_v_card","class","key","_toDisplayString","_createCommentVNode","_component_v_btn","depressed","onClick","$event","$options","delData","color","_component_v_card_subtitle","position","store","_component_v_card_text","_createElementVNode","_hoisted_3","name","email","phone","address","education","experience","submission_date","description"],"sources":["/Users/admin/Documents/HDTask/Coffee/src/components/AdminDashboard.vue"],"sourcesContent":["<template>\n    <v-card-title>Admin Dashboard</v-card-title>\n    <div v-if=\"loading\">Loading...</div>\n    <div v-else>\n        <v-card-item title=\"Recent Applications\">\n            <v-card class=\"m-4 p-3\" v-for=\"(application, index) in applications\" :key=\"application.id\">\n                <v-card-title>Application {{ application.id }}</v-card-title>\n                <!-- Delete Button -->\n                <v-btn depressed @click=\"delData(application.id, index)\" color=\"primary\">\n                    Delete Candidate\n                </v-btn>\n                <v-card-subtitle>Position: {{ application.position }}. Store: {{ application.store }}</v-card-subtitle>\n                <v-card-text>\n                    <div id=\"{{ application.name }}\">Name: {{ application.name }}</div>\n                    <div>Contact email: {{ application.email }}</div>\n                    <div>Contact phone: {{ application.phone }}</div>\n                    <div>Address: {{ application.address }}</div>\n                    <div>Education: {{ application.education }}</div>\n                    <div>Experience: {{ application.experience }}</div>\n                    <div>Submission date: {{ application.submission_date }}</div>\n                    <div>Description: {{ application.description }}</div>\n                </v-card-text>\n            </v-card>\n        </v-card-item>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nexport default {\n    name: 'AdminDashboard',\n    data() {\n        return {\n            application: [],\n            loading: true\n        };\n    },\n    mounted() {\n        this.fetchApplications();\n    },\n    methods: {\n        fetchApplications() {\n            axios\n                .get('https://mercury.swin.edu.au/cos20031/s104194774/duonghdtask/resources/api_apply.php/')\n                .then(response => {\n                    this.applications = response.data;\n                    this.applications.reverse();\n                    this.loading = false;\n                })\n                .catch(error => {\n                    console.error('Failed to fetch applications:', error);\n                    this.loading = false;\n                });\n        },\n        delData(id, index) {\n            var delSQLApiURL = `https://mercury.swin.edu.au/cos20031/s104194774/duonghdtask/resources/api_apply.php/id/` + id;\n\n            const requestOptions = {\n                method: 'DELETE',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    name: id\n                })\n            };\n\n            fetch(delSQLApiURL, requestOptions)\n                .then(response => {\n                    if (response.ok) {\n                        console.log(\"Data deleted Successfully\");\n                        // Remove the deleted application from the list\n                        this.applications.splice(index, 1);\n                    } else {\n                        console.error('Failed to delete the application:', response.statusText);\n                    }\n                })\n                .catch(error => {\n                    console.error('There was an error during the deletion:', error);\n                });\n        }\n    }\n};\n</script>\n"],"mappings":";;;;;;;;EAayBA,EAAE,EAAC;AAAwB;;;;;;;;6DAZhDC,YAAA,CAA4CC,uBAAA;sBAA9B,MAAe,C,iBAAf,iBAAe,E;;MAClBC,KAAA,CAAAC,OAAO,I,cAAlBC,mBAAA,CAAoC,OAAAC,UAAA,EAAhB,YAAU,M,cAC9BD,mBAAA,CAqBM,OAAAE,UAAA,GApBFN,YAAA,CAmBcO,sBAAA;IAnBDC,KAAK,EAAC;EAAqB;sBACZ,MAA4C,E,kBAApEJ,mBAAA,CAiBSK,SAAA,QAAAC,WAAA,CAjB8CC,IAAA,CAAAC,YAAY,GAAnCC,WAAW,EAAEC,KAAK;2BAAlDC,YAAA,CAiBSC,iBAAA;QAjBDC,KAAK,EAAC,SAAS;QAA+CC,GAAG,EAAEL,WAAW,CAACd;;0BACnF,MAA6D,CAA7DC,YAAA,CAA6DC,uBAAA;4BAA/C,MAAY,C,iBAAZ,cAAY,GAAAkB,gBAAA,CAAGN,WAAW,CAACd,EAAE,iB;;;sCAC3CqB,mBAAA,mBAAsB,EACtBpB,YAAA,CAEQqB,gBAAA;UAFDC,SAAS,EAAT,EAAS;UAAEC,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,OAAO,CAACb,WAAW,CAACd,EAAE,EAAEe,KAAK;UAAGa,KAAK,EAAC;;4BAAU,MAEzE,C,iBAFyE,oBAEzE,E;;0DACA3B,YAAA,CAAuG4B,0BAAA;4BAAtF,MAAU,C,iBAAV,YAAU,GAAAT,gBAAA,CAAGN,WAAW,CAACgB,QAAQ,IAAG,WAAS,GAAAV,gBAAA,CAAGN,WAAW,CAACiB,KAAK,iB;;;sCAClF9B,YAAA,CASc+B,sBAAA;4BARV,MAAmE,CAAnEC,mBAAA,CAAmE,OAAnEC,UAAmE,EAAlC,QAAM,GAAAd,gBAAA,CAAGN,WAAW,CAACqB,IAAI,kBAC1DF,mBAAA,CAAiD,aAA5C,iBAAe,GAAAb,gBAAA,CAAGN,WAAW,CAACsB,KAAK,kBACxCH,mBAAA,CAAiD,aAA5C,iBAAe,GAAAb,gBAAA,CAAGN,WAAW,CAACuB,KAAK,kBACxCJ,mBAAA,CAA6C,aAAxC,WAAS,GAAAb,gBAAA,CAAGN,WAAW,CAACwB,OAAO,kBACpCL,mBAAA,CAAiD,aAA5C,aAAW,GAAAb,gBAAA,CAAGN,WAAW,CAACyB,SAAS,kBACxCN,mBAAA,CAAmD,aAA9C,cAAY,GAAAb,gBAAA,CAAGN,WAAW,CAAC0B,UAAU,kBAC1CP,mBAAA,CAA6D,aAAxD,mBAAiB,GAAAb,gBAAA,CAAGN,WAAW,CAAC2B,eAAe,kBACpDR,mBAAA,CAAqD,aAAhD,eAAa,GAAAb,gBAAA,CAAGN,WAAW,CAAC4B,WAAW,iB"},"metadata":{},"sourceType":"module","externalDependencies":[]}