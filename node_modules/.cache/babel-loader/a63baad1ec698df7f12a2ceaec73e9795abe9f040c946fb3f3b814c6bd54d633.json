{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-2bf3ab2e\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"text-center mb-4\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"text-center\"\n};\nconst _hoisted_3 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_card_title = _resolveComponent(\"v-card-title\");\n  const _component_v_card_subtitle = _resolveComponent(\"v-card-subtitle\");\n  const _component_v_divider = _resolveComponent(\"v-divider\");\n  const _component_v_rating = _resolveComponent(\"v-rating\");\n  const _component_v_textarea = _resolveComponent(\"v-textarea\");\n  const _component_v_alert = _resolveComponent(\"v-alert\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_form = _resolveComponent(\"v-form\");\n  const _component_v_card_text = _resolveComponent(\"v-card-text\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_v_card_item = _resolveComponent(\"v-card-item\");\n  const _component_v_pagination = _resolveComponent(\"v-pagination\");\n  const _component_v_sheet = _resolveComponent(\"v-sheet\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  return _openBlock(), _createBlock(_component_v_container, null, {\n    default: _withCtx(() => [_createVNode(_component_v_row, {\n      justify: \"center\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_col, {\n        cols: \"12\",\n        md: \"8\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_card, {\n          class: \"elevation-5\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_v_card_title, {\n            class: \"text-center font-weight-bold italic\",\n            style: {\n              \"font-size\": \"30px\",\n              \"color\": \"red\"\n            }\n          }, {\n            default: _withCtx(() => [_createTextVNode(\"Feedback\")]),\n            _: 1\n          }), _createVNode(_component_v_card_subtitle, {\n            class: \"text-center\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(\"We value your feedback and appreciate you taking the time to share your thoughts with us. Your feedback helps us improve our services to better serve you.\")]),\n            _: 1\n          }), _createVNode(_component_v_divider), _createVNode(_component_v_card_text, null, {\n            default: _withCtx(() => [_createVNode(_component_v_form, {\n              onSubmit: _withModifiers($options.submitForm, [\"prevent\"])\n            }, {\n              default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_v_rating, {\n                modelValue: $data.rating,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.rating = $event),\n                \"empty-icon\": \"mdi-coffee-outline\",\n                \"full-icon\": \"mdi-coffee\",\n                color: \"brown\",\n                hover: \"\"\n              }, null, 8, [\"modelValue\"])]), _createVNode(_component_v_textarea, {\n                modelValue: $data.description,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.description = $event),\n                label: \"Your review:\",\n                outlined: \"\"\n              }, null, 8, [\"modelValue\"]), $data.sucMessage ? (_openBlock(), _createBlock(_component_v_alert, {\n                key: 0,\n                color: \"success\",\n                outlined: \"\"\n              }, {\n                default: _withCtx(() => [_createTextVNode(_toDisplayString($data.sucMessage), 1)]),\n                _: 1\n              })) : _createCommentVNode(\"\", true), $data.errMessage ? (_openBlock(), _createBlock(_component_v_alert, {\n                key: 1,\n                color: \"error\",\n                outlined: \"\"\n              }, {\n                default: _withCtx(() => [_createTextVNode(_toDisplayString($data.errMessage), 1)]),\n                _: 1\n              })) : _createCommentVNode(\"\", true), _createVNode(_component_v_btn, {\n                onClick: _cache[2] || (_cache[2] = $event => $options.submitForm()),\n                type: \"submit\",\n                class: \"mt-4\",\n                color: \"primary\",\n                block: \"\"\n              }, {\n                default: _withCtx(() => [_createTextVNode(\"Submit\")]),\n                _: 1\n              })]),\n              _: 1\n            }, 8, [\"onSubmit\"])]),\n            _: 1\n          })]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    }), $data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, \"Loading reviews...\")) : (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createVNode(_component_v_sheet, {\n      class: \"reviews-section my-5\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_card_item, {\n        class: \"text-center\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_card_title, {\n          class: \"title-secondary\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"Feedback from our most-valued customers\")]),\n          _: 1\n        })]),\n        _: 1\n      }), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.displayedReviews, (review, index) => {\n        return _openBlock(), _createBlock(_component_v_card, {\n          key: index,\n          class: \"review-card m-4 p-4\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_v_rating, {\n            modelValue: review.rating,\n            \"onUpdate:modelValue\": $event => review.rating = $event,\n            \"empty-icon\": \"mdi-heart-outline\",\n            \"full-icon\": \"mdi-heart\",\n            color: \"#74C69D\",\n            readonly: \"\"\n          }, null, 8, [\"modelValue\", \"onUpdate:modelValue\"]), _createVNode(_component_v_card_text, {\n            class: \"review-text\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString(review.description), 1)]),\n            _: 2\n          }, 1024)]),\n          _: 2\n        }, 1024);\n      }), 128)), _createVNode(_component_v_pagination, {\n        modelValue: $data.currentPage,\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.currentPage = $event),\n        length: Math.ceil($data.reviews.length / $data.reviewsPerPage),\n        onInput: $options.paginateReviews\n      }, null, 8, [\"modelValue\", \"length\", \"onInput\"])]),\n      _: 1\n    })]))]),\n    _: 1\n  });\n}","map":{"version":3,"names":["class","_createBlock","_component_v_container","_createVNode","_component_v_row","justify","_component_v_col","cols","md","_component_v_card","_component_v_card_title","style","_component_v_card_subtitle","_component_v_divider","_component_v_card_text","_component_v_form","onSubmit","_withModifiers","$options","submitForm","_createElementVNode","_hoisted_1","_component_v_rating","$data","rating","$event","color","hover","_component_v_textarea","description","label","outlined","sucMessage","_component_v_alert","errMessage","_component_v_btn","onClick","_cache","type","block","loading","_createElementBlock","_hoisted_2","_hoisted_3","_component_v_sheet","_component_v_card_item","_Fragment","_renderList","displayedReviews","review","index","key","readonly","_component_v_pagination","currentPage","length","Math","ceil","reviews","reviewsPerPage","onInput","paginateReviews"],"sources":["/Users/admin/Documents/HDTask/Coffee/src/components/Component2.vue"],"sourcesContent":["<template>\n    <v-container>\n      <v-row justify=\"center\">\n        <v-col cols=\"12\" md=\"8\">\n          <v-card class=\"elevation-5\">\n            <v-card-title class=\"text-center font-weight-bold italic\" style=\"font-size: 30px; color: red;\">Feedback</v-card-title>\n            <v-card-subtitle class=\"text-center\">We value your feedback and appreciate you taking the time to share your thoughts with us. Your feedback helps us improve our services to better serve you.</v-card-subtitle>\n            \n            <v-divider></v-divider>\n  \n            <v-card-text>\n              <v-form @submit.prevent=\"submitForm\">\n                <div class=\"text-center mb-4\">\n                  <v-rating v-model=\"rating\" empty-icon=\"mdi-coffee-outline\" full-icon=\"mdi-coffee\" color=\"brown\" hover></v-rating>\n                </div>\n                \n                <v-textarea v-model=\"description\" label=\"Your review:\" outlined></v-textarea>\n  \n                <v-alert v-if=\"sucMessage\" color=\"success\" outlined>{{ sucMessage }}</v-alert>\n                <v-alert v-if=\"errMessage\" color=\"error\" outlined>{{ errMessage }}</v-alert>\n  \n                <v-btn @click=\"submitForm()\" type=\"submit\" class=\"mt-4\" color=\"primary\" block>Submit</v-btn>\n              </v-form>\n            </v-card-text>\n          </v-card>\n        </v-col>\n      </v-row>\n      <!-- Feed back section -->\n      <div v-if=\"loading\" class=\"text-center\">Loading reviews...</div>\n      <div v-else>\n        <v-sheet class=\"reviews-section my-5\">\n          <v-card-item class=\"text-center\">\n            <v-card-title class=\"title-secondary\">Feedback from our most-valued customers</v-card-title>\n          </v-card-item>\n          <v-card v-for=\"(review, index) in displayedReviews\" :key=\"index\" class=\"review-card m-4 p-4\">\n            <v-rating v-model=\"review.rating\" empty-icon=\"mdi-heart-outline\" full-icon=\"mdi-heart\" color=\"#74C69D\" readonly></v-rating>\n            <v-card-text class=\"review-text\">{{ review.description }}</v-card-text>\n          </v-card>\n          <v-pagination v-model=\"currentPage\" :length=\"Math.ceil(reviews.length / reviewsPerPage)\" @input=\"paginateReviews\"></v-pagination>\n        </v-sheet>\n      </div>\n    </v-container>\n  </template>\n\n  <script>\n    \n    import '@mdi/font/css/materialdesignicons.css';\n    import 'bootstrap/dist/css/bootstrap.css';\n    /* eslint-disable */\n  export default {\n    name: 'ComponentTwo',\n    data() {\n      return {\n        rating: null,\n        description: '',\n        errMessage: '',\n        sucMessage: '',\n        // Feedback section\n        loading: true,\n        reviews: [],\n        currentPage: 1, // Current page of reviews\n        reviewsPerPage: 5, // Number of reviews per page\n      };\n    },\n    methods: {\n      validate() {\n        if (!this.rating) {\n          this.errMessage = \"Please provide a rating.\";\n          return false;\n        }\n        return this.rating !== null;\n      },\n      submitForm() {\n          if (this.validate()) {\n              const apiUrl = 'https://mercury.swin.edu.au/cos30043/s104357292/HDTASK/Coffee/src/resources/api_review.php/';\n              fetch(apiUrl, {\n                  method: 'POST',\n                  headers: {\n                      'Content-Type': 'application/json'\n                  },\n                  body: JSON.stringify(this.review)\n              })\n                  .then(response => response.json())\n                  .then(data => {\n                      console.log('Data successfully posted:', data);\n                      // Handle the response data as needed\n                  })\n                  .catch(error => {\n                      console.error('Error posting data:', error);\n                      // Handle the error\n                  });\n              this.sucMessage = \"Thank you very much for your feedback. We are striving everyday to provide better services!\"\n              this.resetForm();\n          }\n      },\n      resetForm() {\n        this.rating = null;\n        this.description = '';\n        this.errMessage = '';\n      },\n      // FeedBack Section\n      loadReviews() {\n        axios\n          .get('https://mercury.swin.edu.au/cos30043/s104357292/HDTASK/Coffee/src/resources/api_review.php/')\n          .then(response => {\n            this.reviews = response.data;\n            this.loading = false;\n          })\n          .catch(error => {\n            console.log('Failed to load reviews:', error);\n            this.loading = false;\n          });\n      },\n      paginateReviews(page) {\n        this.currentPage = page;\n      },\n    },\n    computed: {\n        review() {\n            return {\n                rating: this.rating,\n                description: this.description\n            }\n        },\n        // Feedback Section\n        displayedReviews() {\n        // Calculate the index range for the current page\n        const startIndex = (this.currentPage - 1) * this.reviewsPerPage;\n        const endIndex = startIndex + this.reviewsPerPage;\n  \n        // Slice the reviews array based on the index range\n        return this.reviews.slice(startIndex, endIndex);\n      },\n    }\n  };\n  </script>\n  \n  <style scoped>\n  .v-divider {\n    margin: 16px 0;\n  }\n  </style>\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}